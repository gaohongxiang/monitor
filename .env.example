# 多源监控系统 - 环境变量配置示例
# 复制此文件为 .env 并填入实际配置值

# ========================================== 模块控制 ============================================
# 根据需要启用/禁用各个监控模块
TWITTER_ENABLED=false                    # Twitter监控
BINANCE_ANNOUNCEMENT_ENABLED=true        # Binance公告监控  
BINANCE_PRICE_ENABLED=false             # Binance价格监控



# ========================================== 通用配置 =============================================
# 钉钉机器人访问令牌 (所有模块共用)
DINGTALK_ACCESS_TOKEN=your_dingtalk_access_token
# 数据库连接URL（Supabase PostgreSQL推荐）
DATABASE_URL=postgresql://postgres.xxx:password@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# 可选：Binance代理配置（公告监控和价格监控共用，提高连接稳定性）
# BINANCE_PROXY_URL=socks://username:password@proxy_host:proxy_port



# ========================================== Binance公告监控配置 ===================================
# 实时WebSocket推送。私有WebSocket，需要apiKey、apiSecret
BINANCE_API_KEY=your_binance_api_key
BINANCE_SECRET_KEY=your_binance_secret_key

# ===== DeepL翻译配置 =====
# DeepL API密钥（用于翻译Binance公告等内容）
DEEPL_API_KEY=your_deepl_api_key_here


# ========================================== Binance价格监控配置 ===================================
# 监控交易对和阈值（格式: 交易对:阈值%，逗号分隔）
BINANCE_PRICE_SYMBOLS=BTCUSDT:3,ETHUSDT:4,SOLUSDT:5

# 监控模式（默认false=定时检查，true=WebSocket实时监控）
BINANCE_PRICE_USE_WEBSOCKET=false

# 定时检查间隔（秒，仅在定时检查模式下生效，默认300秒=5分钟）
BINANCE_PRICE_INTERVAL=300

# 预警冷却期（秒，同一交易对发送预警后的冷却时间，避免频繁通知）
BINANCE_PRICE_COOLDOWN=3600

# 每日报告时间（HH:MM格式，每天发送价格汇总报告的时间）
BINANCE_PRICE_DAILY_TIME=12:00



# ========================================== Twitter监控配置 =======================================
# Twitter API凭证配置（JSON格式）
# 支持多个监控用户，每个用户可配置多个API凭证
# 注意：本地.env文件需要外层引号，Railway等云平台不需要引号
API_CREDENTIALS='[
  {
    "monitorUser": "binancezh",
    "credentials": [
      {
        "username": "X用户名1",
        "clientId": "Twitter_API_客户端ID_1",
        "clientSecret": "Twitter_API_客户端密钥_1",
        "redirectUri": "OAuth重定向URI",
        "browserId": "比特指纹浏览器ID_1",
        "proxyUrl": "socks5代理服务器地址_1"
      },
      {
        "username": "X用户名2",
        "clientId": "Twitter_API_客户端ID_2",
        "clientSecret": "Twitter_API_客户端密钥_2",
        "redirectUri": "OAuth重定向URI",
        "browserId": "比特指纹浏览器ID_2",
        "proxyUrl": "socks5代理服务器地址_2"
      }
    ]
  },
  {
    "monitorUser": "elonmusk",
    "credentials": [
      {
        "username": "X用户名3",
        "clientId": "Twitter_API_客户端ID_3",
        "clientSecret": "Twitter_API_客户端密钥_3",
        "redirectUri": "OAuth重定向URI",
        "browserId": "比特指纹浏览器ID_3",
        "proxyUrl": "socks5代理服务器地址_3"
      }
    ]
  }
]'

# 监控时间配置（北京时间 UTC+8）
MONITOR_START_TIME=09:00  # 监控开始时间
MONITOR_END_TIME=23:00    # 监控结束时间

# API使用限制 (免费版每月100次，分配到每天3次)
DAILY_REQUESTS_PER_API=3